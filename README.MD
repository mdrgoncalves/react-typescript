<h1 align="center">
    React - Escrevendo em Typescript
</h1>

<p align="center">
 ‚Ä¢ <a href="#-about">Sobre</a> 
 ‚Ä¢ <a href="#-tech-stack">Conte√∫do Estudado</a>  
</p>

# üíª Sobre

React em Typescript - Projeto para estudo de React.

---

# üõ† Conte√∫do Estudado

# SRP - Single Responsability Principal

Cada funcionalidade do c√≥digo deve ter apenas uma responsabilidade. Como a ferramente mais utilizada ser√° o Function Component, ent√£o cada componente deve ter apenas uma responsabilidade.

# Instalando projeto em React via NPM

Para inicializar um projeto em React, utiliza-se o comando no terminal:

```bash
npx create-react-app nome-do-projeto --template typescript
```

# Cria√ß√£o de Components com Class Component

Uma das formas antigamente utilizadas para cria√ß√£o de componentes era extendendo uma classe a partir da importa√ß√£o do React.

```tsx
import React from "react";

class Botao extends React.Component {
    render() {
        return (
            <button>
                Bot√£o
            </button>
        )
    }
}

export default Botao;
```

Esse bot√£o √© renderizado no App.tsx como se fosse uma tag HTML atrav√©s da sua principal func√£o render(): 

```tsx
import React from 'react';
import Botao from './components/Botao';

function App() {
  return (
    <div className="App">
      <Botao />
    </div>
  );
}

export default App;
```

# Cria√ß√£o de Components com Function Component

A forma mais utilizada atualmente para cria√ß√£o de componentes √© atrav√©s de uma fun√ß√£o que retorna um JSX/TSX. Devido as atualiza√ß√µes no Function Component que possibilitou a utiliza√ß√£o dos recursos de STATE antigamente associado ao m√©todo de Class Function, aos poucos esse √∫ltimo vem se tornando um recurso deprecated.

```tsx
import React from "react";

function Lista() {

    return (
        <aside>
            <h2> Estudos do dia </h2>
            <ul>
                <li>
                    <h3>
                        React
                    </h3>
                    <span>
                        02:00:00
                    </span>
                </li>
                <li>
                    <h3>
                        Javascript
                    </h3>
                    <span>
                        01:00:00
                    </span>
                </li>
            </ul>
        </aside>
    );
}

export default Lista;
```

# Renderizando uma Array

Para que seja poss√≠vel construir um c√≥digo de forma reativa e din√¢mica, em vez de torna o c√≥digo imperativo, utilizasse o array para criar esse dinamismo: 

```tsx
import React from "react";

function Lista() {

    const tarefas = [{
        tarefa: 'React',
        tempo: '02:00:00'
    },
    {
        tarefa: 'Javascript',
        tempo: '01:00:00'
    },
    {
        tarefa: 'Typescript',
        tempo: '03:00:00'
    }];

    return (
        <aside>
            <h2> Estudos do dia </h2>
            <ul>
                {tarefas.map((item, index) => (
                    <li key={index}>
                        <h3> {item.tarefa} </h3>
                        <span> {item.tempo} </span>
                    </li>
                ))}
            </ul>
        </aside>
    );
}

export default Lista;
```

Assim em vez de ser necess√°rio criar um item HTML descritivo novo toda vez que se atualizar a lista, o pr√≥prio recurso do JSX combinado com m√©todos de Array fazem o trabalho.

# Map e Keys

Quando se utiliza o m√©todo .map no React, ele fica um pouco perdido por n√£o saber que item da lista corresponde ao DOM real pelo dinamismo inerente. Ent√£o √© necess√°rio uma chave (key) para linkar uma coisa com a outra. Ent√£o o React pede esse atributo sempre que for fazer uma renderiza√ß√£o atrav√©s de lista.

# Utilizando CSS em React

A primeira forma para se passar estiliza√ß√£o para um componente √© utilizando a propriedade inline:

```tsx
render() {
    const backgroundColor = 'green';
    const styles = {
        backgroundColor
    }
    return (
        <button style={styles}>
            Bot√£o
        </button>
    )
}
```

A outra forma √© a mais comum e popularmente utilizada no ambiente nativo HTML, que √© aquela na qual se externa o documento de estiliza√ß√£o. Por√©m no React se importa esse documento atrav√©s da palavra 'import'. 
Para facilitar a escrita e impedir a sobrescri√ß√£o de c√≥digos, utiliza-se o SASS e o CSS Modules.

# Instalando o SASS e Aplicando

Para instalar o SASS, utiliza-se o comando no terminal:

```bash
npm install --save-dev sass
```

Para utilizar o SASS, √© necess√°rio criar um arquivo .scss e importar esse arquivo no arquivo .tsx. 

```tsx
import React from "react";
import './styles.scss';
```

A aplica√ß√£o no componente acontece atrav√©s da propriedade className.

# CSS Modules

Para que n√£o haja a sobrescrita de estilos, utiliza-se o CSS Modules. Para isso, como se est√° utilizando Typescript √© necess√°rio um plugin chamado 'typescript-plugin-css-modules', instalado atrav√©s do comando:

```bash
npm install -D typescript-plugin-css-modules
```

Tamb√©m √© necess√°rio indicar sua utiliza√ß√£o no tsconfig.json, atrav√©s das linhas abaixo:

```json
{
    "compilerOptions": {
        "plugins": [{ "name": "typescript-plugin-css-modules" }]
    }
}
```

A primeira mudan√ßa do CSS Module √© que o arquivo de estiliza√ß√£o agora recebe o nome de 'style.module.scss'. A segundo √© que sua importa√ß√£o √© realizada como se fosse um objeto:

```tsx
import style from './style.module.scss';
```

Seguindo o mesmo princ√≠pio na aplica√ß√£o no className: 

```tsx
<button className={style.botao}>
    Bot√£o
</button>
```

# Props

Props s√£o as propriedades que s√£o passadas para um componente. Elas s√£o passadas atrav√©s de um atributo HTML, que no caso do React √© chamado de 'props'. 
No Class Component ele se passa da seguinte forma:

```tsx
interface BotaoProps {
    children: React.ReactNode;
}

class Botao extends React.Component<BotaoProps> {
    render() {
        return (
            <button className={style.botao}>
                {this.props.children}
            </button>
        )
    }
}
```

No Function Component a ideia √© a mesma:

```tsx
export default function Item(
    {tarefa, tempo} :
    {tarefa: string, tempo: string}
) {
    return (
        <li className={style.item}>
            <h3> {tarefa} </h3>
            <span> {tempo} </span>
        </li>
    )
}
```

A aplica√ß√£o desse componente ficaria a seguinte:

```tsx
return (
    <aside className={style.listaTarefas}>
        <h2> Estudos do dia </h2>
        <ul>
            {tarefas.map((item, index) => (
                <Item 
                    key={index}
                    {...item}
                />
            ))}
        </ul>
    </aside>
)
```

# React.Fragment

Um dos requisitos do JSX, ao contr√°rio do HTML, √© que as tags n√£o podem ficar soltas dentro de um componente, √© necess√°rio fazer um wrapper atrav√©s de um elemento pai para que seja poss√≠vel renderizar. Por√©m isso pode ser desviado atrav√©s da tag 'React.Fragment', que ao englobar esses elementos soltos, renderiza corretamente esses mesmo elementos.

```tsx
export function Relogio() {

    return (
        <React.Fragment>
            <span>0</span>
            <span>0</span>
            <span>:</span>
            <span>0</span>
            <span>0</span>
        </React.Fragment>
    )
}
```

Uma forma de se abreviar esse c√≥digo √© ocultar a express√£o React.Fragment e utilizar apenas < ></>.

# States

States s√£o as vari√°veis que s√£o utilizadas para armazenar informa√ß√µes que podem ser alteradas. Elas s√£o declaradas dentro do componente e s√£o alteradas atrav√©s de uma fun√ß√£o que √© passada como par√¢metro para o componente.

# States em Function Component

No Function Component a chamada do state √© atrav√©s do 'useState', o use se refere a chamada de um ReactHook.

```tsx
function Lista() {

    //Inicio do State
    const [tarefas, setTarefas] = useState([{
        tarefa: 'React',
        tempo: '02:00:00'
    },
    {
        tarefa: 'Javascript',
        tempo: '01:00:00'
    },
    {
        tarefa: 'Typescript',
        tempo: '03:00:00'
    }]);

    return (
        <aside className={style.listaTarefas}>
            <h2 onClick={() => 
                //Aplica√ß√£o do State
                setTarefas([...tarefas, {
                    tarefa: 'Nova Tarefa',
                    tempo: '00:00:00'
                }])
            }> Estudos do dia </h2>
            <ul>
                {tarefas.map((item, index) => (
                    <Item 
                        key={index}
                        {...item}
                    />
                ))}
            </ul>
        </aside>
    );
}
```

# States em Class Component

No Class Component a chamada do state √© atrav√©s do 'this.state', e a altera√ß√£o do state √© feita atrav√©s da fun√ß√£o 'this.setState'. Inicia-se criando uma vari√°vel que define o estado inicial do state:

```tsx
class Formulario extends React.Component {

    //Define o estado inicial do State
    state = {
        tarefa: '',
        tempo: '00:00:00'
    }

    //Fun√ß√£o que altera o state no formul√°rio
    adicionarTarefa(evento: React.FormEvent<HTMLFormElement>) {
        evento.preventDefault();
        console.log('state: ', this.state);
    }

    render() {
        return (
                                               //No submit do formul√°rio realiza a fun√ß√£o espec√≠fica
            <form className={style.novaTarefa} onSubmit={this.adicionarTarefa.bind(this)}>
                <div className={style.inputContainer}>
                    <label htmlFor="tarefa">
                        Adicione uma tarefa
                    </label>
                    <input 
                        type="text"
                        name="tarefa"
                        id="tarefa"
                        //Define o estado inicial do input tarefa
                        value={this.state.tarefa}
                        //Permite a mudan√ßa atrav√©s do seletor de controle, setando um novo estado
                        onChange={evento => this.setState({ ...this.state, tarefa: evento.target.value })}
                        placeholder="O que voc√™ quer estudar?"
                        required
                    />
                </div>
                <div className={style.inputContainer}>
                    <label htmlFor="tempo">
                        Tempo
                    </label>
                    <input 
                        type="time" 
                        step="1"
                        name="tempo"
                        //Define o estado inicial do input tempo
                        value={this.state.tempo}
                        //Permite a mudan√ßa atrav√©s do seletor de controle, setando um novo estado
                        onChange={evento => this.setState({...this.state, tempo: evento.target.value })}
                        id="tempo"
                        min="00:00:00"
                        max="01:30:00"
                        required
                    />
                </div>
                <Botao>
                    Adicionar
                </Botao>
            </form>
        )
    }
}
```

# Mais utiliza√ß√µes de Props

O React ao contr√°rio de outros frameworks, trabalha de forma unidirecional, ou seja, s√≥ √© poss√≠vel fazer a comunica√ß√£o de cima para baixo, salvo outros recursos que n√£o entram nesse caso. Para resolver isso, deve ser trocar a localiza√ß√£o do componente com qual se quer comunicar para o pai comum de ambos comunicadores.

# Reaproveitar Tipos

Para facilitar a reutiliza√ß√£o de tipos cria-se uma pasta 'types' dentro do src. Onde se coloca as interfaces que ser√£o utilizadas de forma global.

# Arrow Function e useState

O React Hooks 'useState' √© uma fun√ß√£o que retorna um array com duas posi√ß√µes, a primeira √© o valor do state e a segunda √© a fun√ß√£o que altera o state. Para que o React consiga identificar o valor do state, √© necess√°rio que a fun√ß√£o seja declarada como uma arrow function.

```tsx
setState((previousState) => (newState))
```

# Pacotes de IDs Aleat√≥rios

As vezes √© necess√°rio utilizar-se de IDs para que o React entenda o que est√° sendo migrado de um lado para o outro. Para gerar IDs aleat√≥rios, pode-se utilizar o pacote 'uuid'.

```bash
npm i uuid
```

Quando utilizando Typescript √© necess√°rio tamb√©m baixar os tipos desse pacote, atrav√©s do comando:

```bash
npm i --save-dev @types/uuid
```

Para importa√ß√£o desse pacote em arquivos Typescript, utiliza-se o comando:

```tsx
import { v4 as uuidv4 } from 'uuid';
```

# Pasta Common

Muitas vezes em uma aplica√ß√£o ser√° necess√°rio criar fun√ß√µes que v√£o agir de forma global, que podem ser reutilizadas em outros componentes ou partes do c√≥digo, para isso cria-se a pasta common, onde ficar√° tudo em comum do c√≥digo, dentro desta, coloca-se a utilities, c√≥digo utilit√°rios comuns ao c√≥digo.

# UseEffect

O useEffect √© um hook que permite que o React execute uma fun√ß√£o toda vez que o componente for renderizado, ou quando uma vari√°vel for alterada. Para isso, utiliza-se o useEffect, passando como par√¢metro uma fun√ß√£o e um array de depend√™ncias. O array de depend√™ncias √© um array de vari√°veis que, quando alteradas, far√£o com que a fun√ß√£o seja executada.

```tsx
useEffect(() => {
    console.log('Executou');
}, [variavel]);
```

# Iterar atrav√©s de Strings

Para conseguir usar a desestrutura√ß√£o ou tratar a string como a array de caracteres que ele √©, √© necess√°rio ativar a configura√ß√£o no tsconfig.json. O comando √© "downlevelIteration": true.

# padStart

O padStart √© um m√©todo de string que adiciona um caractere a string, at√© que ela atinja o tamanho desejado. Para isso, utiliza-se o m√©todo padStart, passando como par√¢metro o tamanho desejado e o caractere que ser√° adicionado.

```tsx
const tempo = '00:00:00';
const tempoFormatado = tempo.padStart(8, '0');
```

# Renderiza√ß√£o Condicional

Para renderizar um componente de forma condicional, utiliza-se o operador tern√°rio, passando como par√¢metro a condi√ß√£o e o que ser√° renderizado caso a condi√ß√£o seja verdadeira ou falsa.

```tsx
{condi√ß√£o ? <Componente /> : <Componente />}
```

# Fun√ß√£o Recursiva

Uma fun√ß√£o recursiva √© uma fun√ß√£o que chama a si mesma, at√© que uma condi√ß√£o seja atingida. Para isso, utiliza-se o operador tern√°rio, passando como par√¢metro a condi√ß√£o e o que ser√° renderizado caso a condi√ß√£o seja verdadeira ou falsa.

```tsx
function recursiva() {
    return recursiva();
}
```



